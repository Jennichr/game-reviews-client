{"ast":null,"code":"var _jsxFileName = \"/Users/jennichr/Workspace/game-reviews/client/src/components/CommentSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CommentSection(_ref) {\n  _s();\n\n  let {\n    path\n  } = _ref;\n  const API_URL = \"http://localhost:3000\";\n  const [text, setText] = useState('');\n  const [review, setReview] = useState({});\n  useEffect(() => {\n    fetch(`${API_URL}/comments/${path}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      setReview(data);\n    });\n  }, [path]);\n\n  const postData = e => {\n    e.preventDefault();\n    fetch(`${API_URL}/comments/createcomment`, {\n      method: 'POST',\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify({\n        gameId: path,\n        text\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n\n      if (data.error) {\n        alert(data.error);\n      } else {// created comment successfully\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }; // const x = Object.entries(review.posts)\n  // x.forEach(([key, value], index) => {\n  //   console.log(`I: ${index} | V: ${value} | K: ${key}`)\n  // })\n\n\n  return /*#__PURE__*/_jsxDEV(ContainerStyled, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-content\",\n      children: Object.entries(review).map((_ref2, index) => {\n        let [key, value] = _ref2;\n        return /*#__PURE__*/_jsxDEV(CommentBox, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"img\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"review\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"head\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: review[value]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sub\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"right-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"textfield\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          placeholder: \"Write review...\",\n          value: text,\n          onChange: e => {\n            setText(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        onClick: e => postData(e),\n        children: \"POST\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CommentSection, \"54IkXfX/ix2aIT6VlnGQibmoGEs=\");\n\n_c = CommentSection;\nconst CommentBox = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 80%;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  .img{\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n    margin-left: 10px;\n    margin-right: 10px;\n    border-radius: 30px;\n    border: 3px solid #1C96F9;\n    box-shadow: 4px 4px 10px #CED8F5;\n\n    img{\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .review{\n    display: flex;\n    \n    .head{\n\n    }\n\n    .sub{\n      \n    }\n  }\n`;\n_c2 = CommentBox;\nconst ContainerStyled = styled.div`\n  display: grid;\n  /* grid-template-columns: repeat(2, 1fr); */\n  grid-template-columns: 2fr 40%;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 1rem;\n\n  .left-content{\n    box-shadow: 5px 5px 10px #CED8F5;\n    margin-right: 1rem;\n  }\n\n  .right-content{\n    padding: .5rem;\n    box-shadow: 10px 10px 20px #ced8f5, -10px -10px 20px #f6f9ff;\n\n    .textfield{\n      height: 200px;\n      width: 100%;\n      border-radius: 15px;\n      margin: 1rem 0;\n\n      textarea{\n        height: 200px;\n        width: 100%;\n        outline: none;\n        border: none;\n        border-radius: 10px;\n        line-height: 1.4;\n        padding: .5rem;\n        background: #F0F4FF;\n        box-shadow: inset 3px 3px 10px 2px #ced8f5;\n        font-family: 'Open Sans', sans-serif;\n      }\n    }\n\n    .btn{\n      width: 80px;\n      padding: .25rem .25rem;\n      background-color: #1C96F9;\n      cursor: pointer;\n      outline: none;\n      border: none;\n      border-radius: 20px;\n      color: white;\n      transition: .3s;\n    }\n\n    .btn:hover{\n        background-color: #1785F8;\n    }\n  }\n`;\n_c3 = ContainerStyled;\nexport default CommentSection;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"CommentSection\");\n$RefreshReg$(_c2, \"CommentBox\");\n$RefreshReg$(_c3, \"ContainerStyled\");","map":{"version":3,"sources":["/Users/jennichr/Workspace/game-reviews/client/src/components/CommentSection.js"],"names":["React","useState","useEffect","styled","CommentSection","path","API_URL","text","setText","review","setReview","fetch","method","headers","then","res","json","data","console","log","postData","e","preventDefault","mode","cache","localStorage","getItem","redirect","referrerPolicy","body","JSON","stringify","gameId","error","alert","catch","err","Object","entries","map","index","key","value","target","CommentBox","div","ContainerStyled"],"mappings":"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A,QAAQ,EAAGc,CAAD,IAAO;AAAEb,YAAAA,OAAO,CAACa,CAAC,CAACsB,MAAF,CAASD,KAAV,CAAP;AAAyB;AAH9C;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eAQE;AAAQ,QAAA,SAAS,EAAC,KAAlB;AAAwB,QAAA,OAAO,EAAGrB,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARF;AAAA;AAAA;AAAA;AAAA;AAAA,YArBF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkCD;;GA1FQjB,c;;KAAAA,c;AA4FT,MAAMwC,UAAU,GAAGzC,MAAM,CAAC0C,GAAI;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAlCA;MAAMD,U;AAoCN,MAAME,eAAe,GAAG3C,MAAM,CAAC0C,GAAI;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CArDA;MAAMC,e;AAuDN,eAAe1C,cAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\n\nfunction CommentSection({ path }) {\n  const API_URL = \"http://localhost:3000\";\n  const [text, setText] = useState('');\n  const [review, setReview] = useState({});\n\n  useEffect(() => {\n    fetch(`${API_URL}/comments/${path}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'application/json'\n      }\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n        setReview(data)\n      });\n  }, [path])\n\n  const postData = (e) => {\n    e.preventDefault()\n    fetch(`${API_URL}/comments/createcomment`, {\n      method: 'POST',\n      mode: \"cors\",\n      cache: \"no-cache\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + localStorage.getItem('jwt')\n      },\n      redirect: \"follow\",\n      referrerPolicy: \"no-referrer\",\n      body: JSON.stringify({\n        gameId: path,\n        text,\n      })\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        console.log(data)\n        if (data.error) {\n          alert(data.error)\n        } else {\n          // created comment successfully\n        }\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n\n  // const x = Object.entries(review.posts)\n  // x.forEach(([key, value], index) => {\n  //   console.log(`I: ${index} | V: ${value} | K: ${key}`)\n  // })\n\n  return (\n    <ContainerStyled>\n      <div className='left-content'>\n        {Object.entries(review).map(([key, value], index) => {\n          return (\n            <CommentBox key={index}>\n              <div className='img'>\n                <img src='https://icon-library.com/images/anonymous-avatar-icon/anonymous-avatar-icon-25.jpg' alt='' />\n              </div>\n              <div className='review'>\n                <div className='head'>\n                  <p>{review[value]}</p>\n                  <p></p>\n                </div>\n                <div className='sub'>\n                  <p></p>\n                </div>\n              </div>\n            </CommentBox>\n          )\n        })}\n      </div>\n      <div className='right-content'>\n        <div className='textfield'>\n          <textarea\n            placeholder='Write review...'\n            value={text}\n            onChange={(e) => { setText(e.target.value) }}\n          />\n        </div>\n        <button className='btn' onClick={(e) => postData(e)}>POST</button>\n      </div>\n    </ContainerStyled>\n  )\n}\n\nconst CommentBox = styled.div`\n  display: grid;\n  grid-template-columns: 2fr 80%;\n  justify-content: center;\n  align-items: center;\n  padding: 1rem;\n\n  .img{\n    width: 50px;\n    height: 50px;\n    overflow: hidden;\n    margin-left: 10px;\n    margin-right: 10px;\n    border-radius: 30px;\n    border: 3px solid #1C96F9;\n    box-shadow: 4px 4px 10px #CED8F5;\n\n    img{\n      width: 100%;\n      height: 100%;\n    }\n  }\n\n  .review{\n    display: flex;\n    \n    .head{\n\n    }\n\n    .sub{\n      \n    }\n  }\n`\n\nconst ContainerStyled = styled.div`\n  display: grid;\n  /* grid-template-columns: repeat(2, 1fr); */\n  grid-template-columns: 2fr 40%;\n  justify-content: center;\n  align-items: flex-start;\n  padding: 1rem;\n\n  .left-content{\n    box-shadow: 5px 5px 10px #CED8F5;\n    margin-right: 1rem;\n  }\n\n  .right-content{\n    padding: .5rem;\n    box-shadow: 10px 10px 20px #ced8f5, -10px -10px 20px #f6f9ff;\n\n    .textfield{\n      height: 200px;\n      width: 100%;\n      border-radius: 15px;\n      margin: 1rem 0;\n\n      textarea{\n        height: 200px;\n        width: 100%;\n        outline: none;\n        border: none;\n        border-radius: 10px;\n        line-height: 1.4;\n        padding: .5rem;\n        background: #F0F4FF;\n        box-shadow: inset 3px 3px 10px 2px #ced8f5;\n        font-family: 'Open Sans', sans-serif;\n      }\n    }\n\n    .btn{\n      width: 80px;\n      padding: .25rem .25rem;\n      background-color: #1C96F9;\n      cursor: pointer;\n      outline: none;\n      border: none;\n      border-radius: 20px;\n      color: white;\n      transition: .3s;\n    }\n\n    .btn:hover{\n        background-color: #1785F8;\n    }\n  }\n`\n\nexport default CommentSection"]},"metadata":{},"sourceType":"module"}